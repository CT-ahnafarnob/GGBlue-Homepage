{% comment %} <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/> {% endcomment %}

{% comment %} <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script> {% endcomment %}


<style>
.{{section.id}} {
  padding: 20px;
  background-color: #fff;
  display: flex;
  justify-content: center;
  flex-direction: column;
  align-items: center;
}

.{{section.id}} .container1  {
  font-family: "Poppins", sans-serif;
  font-weight: 200;
  font-style: normal;
  text-align: center;
  color: black;
  font-size: 42px;
  padding-top: 20px;
}

.quote-icon {
  display: flex;
  justify-content: center;
  margin: 0;
}

.{{section.id}} .container .topic h2 {
  font-family: "Poppins";
  font-weight: 400;
  font-size: 18px;
  text-align: center;
  color: black;
}

.{{section.id}} .container .clientsays p {
  font-family: "Work Sans";
  font-weight: 300;
  font-size: 16px;
  line-height: 28.8px;
  text-align: center;
  color: black;
  padding: 12px 150px;
  margin: auto;
}

.{{section.id}} .container .clientname h3 {
  font-weight: 600;
  font-size: 16px;
  line-height: 28.8px;
  text-align: center;
  color: black;
}

.swiper {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
}
.swiper-slide {
  width: auto;
  height: auto;
}
.swiper-button-next::after,
.swiper-button-prev::after {
  display: none;
}

.swiper-button-prev {
  left: 6%;
  width: 40px;
  height: 40px;
  top: 50%;
}
.swiper-button-next {
  right: 6%;
  width: 40px;
  height: 40px;
  top: 50%;
}
.swiper-button-prev svg {
  transform: scaleX(-1);
}

.btn-postion {
  display: flex;
  justify-content: center;
  padding-top: 25px;
}

@media (max-width: 992px) {
  .{{section.id}} .container .clientsays p {
    padding: 12px 5%; /* relative padding */
    font-size: 15px;
    box-sizing: border-box;
  }
}

@media (max-width: 767px) {
  .{{section.id}} .container .clientsays p {
    padding: 12px 5%; /* scale with screen */
    font-size: 14px;
    box-sizing: border-box;
    word-wrap: break-word; /* prevent overflow on long words */
  }

  .swiper-button-prev,
  .swiper-button-next {
    top: auto;
    bottom: 35px; /* keep arrows above pagination */
    transform: translateY(0);
    width: 20px;
    height: 20px;
  }

  .swiper-button-prev {
    left: 20%;
  }
  .swiper-button-next {
    right: 20%;
  }

  .swiper-pagination {
    bottom: 10px !important; /* make pagination visible */
  }
}

</style>


<section class="{{section.id}}">
  <div class="container1">
    <h2 class="custom-heading">{{ section.settings.title }}</h2>
  </div>
  <div class="container">
    <!-- Slider main container -->
    <div class="swiper slider-topic">
      <!-- Additional required wrapper -->
      <div class="swiper-wrapper">
        <!-- Slides -->
        {% for block in section.blocks %}
          {% liquid
            assign topic = block.settings.topic
            assign client_says = block.settings.client_says
            assign client_name = block.settings.client_name
            assign button_text = block.settings.button_text
            assign button_link = block.settings.button_link
          %}
          <div class="swiper-slide">
            <div class="topic">
              <h2>{{ topic }}</h2>
            </div>
            <div class="clientsays">
              <p>{{ client_says }}</p>
            </div>

            <div class="clientname">
              <h3>{{ client_name }}</h3>
            </div>
            <div class="btn-postion">
              <button class="button">
                <a href="{{button_link}}">{{ button_text }}</a>
              </button>
            </div>

            {% comment %}
              <div class="btn-postion">
                <button class="button">{{ button_text }}</button>
              </div>
            {% endcomment %}

            {% comment %}
              <div class="button">
                <a href="{{ button_link }}" class="btn">{{ button_text }}</a>
              </div>
            {% endcomment %}
          </div>
        {% endfor %}
      </div>

      <!-- If we need navigation buttons -->
            <div class="swiper-button-prev">
        {% render 'icon-arrow' %}
      </div>
      <div class="swiper-button-next">
        {% render 'icon-arrow' %}
      </div>
    </div>
  </div>
</section>


<script>
  document.addEventListener('DOMContentLoaded', function() {
    const swiper = new Swiper('.slider-topic', {
      loop: true,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
    });
  });
</script>

{% schema %}
{
  "name": "Testimonials Section",
  "blocks": [
    {
      "type": "slide",
      "name": "slide",
      "settings": [
        {
          "type": "text",
          "id": "topic",
          "label": "Testimonials Topic",
          "default": "Lea Black BeautyÂ® Soothing After Sun & Shave Gel with 100mg CBD"
        },
        {
          "type": "textarea",
          "id": "client_says",
          "label": "Client Says",
          "default": "Lea Black Beauty is on ðŸ”¥ I tried this (Lea Black BeautyÂ® Soothing After Sun & Shave Gel with 100mg CBD) on a whim, and what a pleasant surprise. It soothes aftershave burns. Then my nose got hit hard with a sunburn, so I tried itâ€¦totally awesome! Soothing and healing. Great ingredients I think theâ€¦ Read more."
        },
        {
          "type": "text",
          "id": "client_name",
          "label": "Client Name",
          "default": "C J"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "WRITE YOUR STORY"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Testimonials"
    }
  ],
  "presets": [
    {
      "name": "Testimonials Section"
    }
  ]
}
{% endschema %}
